<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
	<head>
        <meta charset="utf-8"/>
	    <title>gilded_test.cpp</title>
	    <link href="../../third-party/google-code-prettify/prettify-CppCoverage.css" type="text/css" rel="stylesheet" />
	    <script type="text/javascript" src="../../third-party/google-code-prettify/prettify.js"></script>
	</head>
    <body onload="prettyPrint()">
        <h4></h4>
        <pre class="prettyprint lang-cpp linenums">
#include "gmock/gmock.h"
#include "gilded_rose.h"

using std::vector;
using std::string;

class GildedRoseItemFixture : public testing::Test {
public:

    GildedRose *app;

<span style = "background-color:#dfd">    void SetUp() override {
        std::vector&lt;Item&gt; items;</span>

<span style = "background-color:#dfd">        items.push_back({ "+5 Dexterity Vest", 10, 20 });
        items.push_back({ "Aged Brie", 2, 0 });
        items.push_back({ "Elixir of the Mongoose", 5, 7 });
        items.push_back({ "Sulfuras, Hand of Ragnaros", 0, 80 });
        items.push_back({ "Sulfuras, Hand of Ragnaros", -1, 80 });
        items.push_back({ "Backstage passes to a TAFKAL80ETC concert", 15, 20 });
        items.push_back({ "Backstage passes to a TAFKAL80ETC concert", 10, 49 });
        items.push_back({ "Backstage passes to a TAFKAL80ETC concert", 5, 49 });</span>

<span style = "background-color:#dfd">        app = new GildedRose(items);
    }</span>

<span style = "background-color:#dfd">    void TearDown() override {
        delete app;
    }</span>
};


<span style = "background-color:#dfd">TEST_F(GildedRoseItemFixture, updateQualityDay1) {</span>
    //Act
<span style = "background-color:#dfd">    app-&gt;updateQuality();</span>

    //Arrange
<span style = "background-color:#dfd">    EXPECT_EQ("+5 Dexterity Vest", app-&gt;items[0].name);
}</span>

<span style = "background-color:#dfd">TEST_F(GildedRoseItemFixture, updateQualityDay20) {</span>
    //Act
<span style = "background-color:#dfd">    for (int i = 0; i &lt; 20; i++) {
        app-&gt;updateQuality();
    }</span>
    //Arrange
<span style = "background-color:#dfd">    EXPECT_EQ(38, app-&gt;items[1].quality);
    EXPECT_EQ(0, app-&gt;items[2].quality);
    EXPECT_EQ(80, app-&gt;items[3].quality);
}</span>

<span style = "background-color:#dfd">TEST_F(GildedRoseItemFixture, updateQualityDay30) {</span>
    //Act
<span style = "background-color:#dfd">    for (int i = 0; i &lt; 50; i++) {
        app-&gt;updateQuality();
    }</span>
    //Arrange
<span style = "background-color:#dfd">    EXPECT_EQ(50, app-&gt;items[1].quality);
    EXPECT_EQ(0, app-&gt;items[2].quality);
    EXPECT_EQ(80, app-&gt;items[3].quality);
}</span></pre>
        <hr />
        <table width="100%">
            <thead>
                <tr>
                    <th align="center">
                        <small>Generated by</small>
                        <a href="https://github.com/OpenCppCoverage/OpenCppCoverage/releases">
                            <strong>OpenCppCoverage (Version: 0.9.9.0)</strong>
                        </a>
                    </th>
                </tr>
            </thead>
        </table>
    </body>
</html>